import{a as n,o as b,c as k,w as o,h as u,b as e,u as d,f as r,t as w,k as P,r as C,l as B,m as M,n as z,R as E,p as L,i as T,q as V,s as O,T as G,v as j,j as F}from"./index-XlqSScU4.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as U}from"./logo-C4z1NPn2.js";const q={},R=u("div",null,"2024 SteamNexus",-1),W=u("div",{class:"ms-auto"},"Crafted with by iSpan 139 全端班 第三組",-1);function J(h,p){const c=n("CFooter");return b(),k(c,{class:"px-4"},{default:o(()=>[R,W]),_:1})}const Q=H(q,[["render",J]]),K="/assets/2-DU4eQes8.jpg",$=42,X={__name:"AppHeaderDropdownAccnt",setup(h){return(p,c)=>{const l=n("CAvatar"),_=n("CDropdownToggle"),g=n("CDropdownHeader"),i=n("CIcon"),t=n("CBadge"),a=n("CDropdownItem"),s=n("CDropdownDivider"),m=n("CDropdownMenu"),v=n("CDropdown");return b(),k(v,{placement:"bottom-end",variant:"nav-item"},{default:o(()=>[e(_,{class:"py-0 pe-0",caret:!1},{default:o(()=>[e(l,{src:d(K),size:"md"},null,8,["src"])]),_:1}),e(m,{class:"pt-0"},{default:o(()=>[e(g,{component:"h6",class:"bg-body-secondary text-body-secondary fw-semibold mb-2 rounded-top"},{default:o(()=>[r(" Account ")]),_:1}),e(a,null,{default:o(()=>[e(i,{icon:"cil-bell"}),r(" Updates "),e(t,{color:"info",class:"ms-auto"},{default:o(()=>[r(w($))]),_:1})]),_:1}),e(a,null,{default:o(()=>[e(i,{icon:"cil-envelope-open"}),r(" Messages "),e(t,{color:"success",class:"ms-auto"},{default:o(()=>[r(w($))]),_:1})]),_:1}),e(a,null,{default:o(()=>[e(i,{icon:"cil-task"}),r(" Tasks "),e(t,{color:"danger",class:"ms-auto"},{default:o(()=>[r(w($))]),_:1})]),_:1}),e(a,null,{default:o(()=>[e(i,{icon:"cil-comment-square"}),r(" Comments "),e(t,{color:"warning",class:"ms-auto"},{default:o(()=>[r(w($))]),_:1})]),_:1}),e(g,{component:"h6",class:"bg-body-secondary text-body-secondary fw-semibold my-2"},{default:o(()=>[r(" Settings ")]),_:1}),e(a,null,{default:o(()=>[e(i,{icon:"cil-user"}),r(" Profile ")]),_:1}),e(a,null,{default:o(()=>[e(i,{icon:"cil-settings"}),r(" Settings ")]),_:1}),e(a,null,{default:o(()=>[e(i,{icon:"cil-dollar"}),r(" Payments "),e(t,{color:"secondary",class:"ms-auto"},{default:o(()=>[r(w($))]),_:1})]),_:1}),e(a,null,{default:o(()=>[e(i,{icon:"cil-file"}),r(" Projects "),e(t,{color:"primary",class:"ms-auto"},{default:o(()=>[r(w($))]),_:1})]),_:1}),e(s),e(a,null,{default:o(()=>[e(i,{icon:"cil-shield-alt"}),r(" Lock Account ")]),_:1}),e(a,null,{default:o(()=>[e(i,{icon:"cil-lock-locked"}),r(" Logout ")]),_:1})]),_:1})]),_:1})}}},A=P("sidebar",()=>{const h=C(void 0),p=C(!1);return{visible:h,unfoldable:p,toggleVisible:_=>{h.value=_!==void 0?_:!h.value},toggleUnfoldable:()=>{p.value=!p.value}}}),Y=u("li",{class:"nav-item py-1"},[u("div",{class:"vr h-100 mx-2 text-body text-opacity-75"})],-1),Z=u("li",{class:"nav-item py-1"},[u("div",{class:"vr h-100 mx-2 text-body text-opacity-75"})],-1),ee={__name:"AppHeader",setup(h){const p=C("mb-4 p-0"),{colorMode:c,setColorMode:l}=B("coreui-free-vue-admin-template-theme"),_=A();return M(()=>{document.addEventListener("scroll",()=>{document.documentElement.scrollTop>0?p.value="mb-4 p-0 shadow-sm":p.value="mb-4 p-0"})}),(g,i)=>{const t=n("CIcon"),a=n("CHeaderToggler"),s=n("CNavLink"),m=n("CNavItem"),v=n("CHeaderNav"),y=n("CDropdownToggle"),x=n("CDropdownItem"),S=n("CDropdownMenu"),f=n("CDropdown"),D=n("CContainer"),I=n("CHeader");return b(),k(I,{position:"sticky",class:z(p.value)},{default:o(()=>[e(D,{class:"border-bottom px-4",fluid:"",id:"app-header"},{default:o(()=>[e(a,{onClick:i[0]||(i[0]=N=>d(_).toggleVisible()),style:{"margin-inline-start":"-14px"}},{default:o(()=>[e(t,{icon:"cil-menu",size:"lg"})]),_:1}),e(v,{class:"ms-auto"},{default:o(()=>[e(m,null,{default:o(()=>[e(s,{href:"#"},{default:o(()=>[e(t,{icon:"cil-bell",size:"lg"})]),_:1})]),_:1})]),_:1}),e(v,null,{default:o(()=>[Y,e(f,{variant:"nav-item",placement:"bottom-end"},{default:o(()=>[e(y,{caret:!1},{default:o(()=>[d(c)==="dark"?(b(),k(t,{key:0,icon:"cil-moon",size:"lg"})):d(c)==="light"?(b(),k(t,{key:1,icon:"cil-sun",size:"lg"})):(b(),k(t,{key:2,icon:"cil-contrast",size:"lg"}))]),_:1}),e(S,null,{default:o(()=>[e(x,{active:d(c)==="light",class:"d-flex align-items-center",component:"button",type:"button",onClick:i[1]||(i[1]=N=>d(l)("light"))},{default:o(()=>[e(t,{class:"me-2",icon:"cil-sun",size:"lg"}),r(" Light ")]),_:1},8,["active"]),e(x,{active:d(c)==="dark",class:"d-flex align-items-center",component:"button",type:"button",onClick:i[2]||(i[2]=N=>d(l)("dark"))},{default:o(()=>[e(t,{class:"me-2",icon:"cil-moon",size:"lg"}),r(" Dark ")]),_:1},8,["active"]),e(x,{active:d(c)==="auto",class:"d-flex align-items-center",component:"button",type:"button",onClick:i[3]||(i[3]=N=>d(l)("auto"))},{default:o(()=>[e(t,{class:"me-2",icon:"cil-contrast",size:"lg"}),r(" Auto ")]),_:1},8,["active"])]),_:1})]),_:1}),Z,e(X)]),_:1})]),_:1})]),_:1},8,["class"])}}},te=u("img",{class:"mx-2 sidebar-brand-narrow",style:{width:"30px",height:"30px","padding-bottom":"3px"},src:U},null,-1),oe=u("img",{class:"mx-2 sidebar-brand-full",style:{width:"30px",height:"30px","padding-bottom":"3px","margin-bottom":"13px"},src:U},null,-1),ae=u("span",{class:"text-uppercase sidebar-brand-full",style:{"font-family":"'Oswald', sans-serif","font-weight":"500","font-size":"30px",color:"white"}},"SteamNexus",-1),ne=u("span",{class:"nav-icon"},[u("span",{class:"nav-icon-bullet"})],-1),le=u("span",{class:"nav-icon"},[u("span",{class:"nav-icon-bullet"})],-1),se=u("span",{class:"nav-icon"},[u("span",{class:"nav-icon-bullet"})],-1),re=u("span",{class:"nav-icon"},[u("span",{class:"nav-icon-bullet"})],-1),ce={__name:"AppSidebar",setup(h){const p=A();return(c,l)=>{const _=n("CSidebarBrand"),g=n("CCloseButton"),i=n("CSidebarHeader"),t=n("CNavTitle"),a=n("CIcon"),s=n("CNavItem"),m=n("CNavGroup"),v=n("CSidebarNav"),y=n("CSidebarToggler"),x=n("CSidebarFooter"),S=n("CSidebar");return b(),k(S,{class:"border-end",colorScheme:"dark",position:"fixed",unfoldable:d(p).unfoldable,visible:d(p).visible,onVisibleChange:l[8]||(l[8]=f=>d(p).toggleVisible(f))},{default:o(()=>[e(i,{class:"border-bottom"},{default:o(()=>[e(d(E),{to:"/"},{default:o(()=>[e(_,null,{default:o(()=>[te,oe,ae]),_:1})]),_:1}),e(g,{class:"d-lg-none",dark:"",onClick:l[0]||(l[0]=f=>d(p).toggleVisible())})]),_:1}),e(v,null,{default:o(()=>[e(t,null,{default:o(()=>[r("Admin Dashboard")]),_:1}),e(m,null,{togglerContent:o(()=>[e(a,{customClassName:"nav-icon",icon:"cil-people"}),r(" 會員管理 ")]),default:o(()=>[e(s,{href:"#",onClick:l[1]||(l[1]=f=>c.$router.push("/admin/memberManage"))},{default:o(()=>[ne,r(" 會員資料 ")]),_:1}),e(s,{href:"#",onClick:l[2]||(l[2]=f=>c.$router.push("/admin/roleManage"))},{default:o(()=>[le,r(" 權限管理 ")]),_:1})]),_:1}),e(m,null,{togglerContent:o(()=>[e(a,{customClassName:"nav-icon",icon:"cil-laptop"}),r(" 硬體管理 ")]),default:o(()=>[e(s,{href:"#",onClick:l[3]||(l[3]=f=>c.$router.push("/admin/productManage"))},{default:o(()=>[se,r(" 產品管理 ")]),_:1}),e(s,{href:"#",onClick:l[4]||(l[4]=f=>c.$router.push("/admin/menuManage"))},{default:o(()=>[re,r(" 菜單管理 ")]),_:1})]),_:1}),e(s,{href:"#",onClick:l[5]||(l[5]=f=>c.$router.push("/admin/gameManage"))},{default:o(()=>[e(a,{customClassName:"nav-icon",icon:"cilGamepad"}),r(" 遊戲管理 ")]),_:1}),e(s,{href:"#",onClick:l[6]||(l[6]=f=>c.$router.push("/admin/adManage"))},{default:o(()=>[e(a,{customClassName:"nav-icon",icon:"cilSpeech"}),r(" 廣告管理 ")]),_:1})]),_:1}),e(x,{class:"border-top d-none d-lg-flex"},{default:o(()=>[e(y,{onClick:l[7]||(l[7]=f=>d(p).toggleUnfoldable())})]),_:1})]),_:1},8,["unfoldable","visible"])}}},ie={class:"mx-2 mb-3"},de={class:"row mx-1 mb-2"},ue={class:"h3 col-12 col-md-3 text-center text-md-end"},pe={class:"h3 col-12 col-md-6 text-center"},_e={class:"h3 col-12 col-md-3 text-center text-md-start"},me={class:"row mx-1"},ve={__name:"WebScraperProgress",props:["updateType"],setup(h){const p="https://localhost:7135",c=h;let l=C("請求發送中"),_=C("info"),g=C("striped"),i=C(!0),t=C(0),a=C(""),s=C(0),m=null,v="",y="爬蟲啟動中";var x=null;return M(()=>{m=new EventSource(`${p}/api/HardwareManage/UpdateMessage`),m.onmessage=S=>{if(v=S.data,l.value=v,v==="爬蟲啟動中"&&(_.value="info",t.value=0,g.value="striped",i.value=!0,s.value=0),v==="更新成功"){_.value="success",t.value=100,g.value=void 0,i.value=!1,s.value=1,a.value="",clearInterval(x);return}if(c.updateType==="All")switch(v){case"爬蟲啟動中":t.value=0;break;case"CPU 解析中":t.value=4;break;case"CPU 資料更新完成":t.value=8;break;case"GPU 解析中":t.value=12;break;case"GPU 資料更新完成":t.value=16;break;case"RAM 解析中":t.value=20;break;case"RAM 資料更新完成":t.value=24;break;case"Motherboard 解析中":t.value=28;break;case"Motherboard 資料更新完成":t.value=35;break;case"SSD 解析中":t.value=39;break;case"SSD 資料更新完成":t.value=43;break;case"HDD 解析中":t.value=47;break;case"HDD 資料更新完成":t.value=52;break;case"Air Cooler 解析中":t.value=56;break;case"Air Cooler 資料更新完成":t.value=60;break;case"LiquidCooler 解析中":t.value=64;break;case"LiquidCooler 資料更新完成":t.value=68;break;case"CASE 解析中":t.value=72;break;case"CASE 資料更新完成":t.value=77;break;case"PSU 解析中":t.value=82;break;case"PSU 資料更新完成":t.value=87;break;case"OS 解析中":t.value=92;break;case"OS 資料更新完成":t.value=96;break}else y!==v&&(y=v,t.value+=33)},x=setInterval(function(){a.value=a.value===" . . ."?"":a.value+" ."},200)}),L(()=>{m.close()}),(S,f)=>{const D=n("CIcon");return b(),T("section",ie,[u("div",de,[u("div",ue,[d(s)===0?(b(),k(d(V),{key:0})):(b(),k(D,{key:1,icon:"cilCheckAlt",style:{width:"38px",height:"38px",color:"#00ff00"}}))]),u("div",pe,w(d(l))+w(d(a)),1),u("div",_e,w(d(t))+"%",1)]),u("div",me,[e(d(O),{color:d(_),variant:d(g),animated:d(i),value:d(t),class:"p-0 me-5"},null,8,["color","variant","animated","value"])])])}}},fe=H(ve,[["__scopeId","data-v-4fdc918a"]]),Ce={class:"wrapper d-flex flex-column min-vh-100"},be={class:"body flex-grow-1"},ge={__name:"BackendLayout",setup(h){const p="https://localhost:7135",c=C(!1),l=C("");function _(){return fetch(`${p}/api/HardwareManage/IsHardwareUpdate`,{method:"GET"}).then(t=>{if(!t.ok)throw new Error("NetworkError");return t.text()}).then(t=>t).catch(t=>{throw t})}function g(t,a){_().then(s=>{if(console.log(s),s==="false"){l.value=a,c.value=!0;var m={Type:t};return fetch(`${p}/api/HardwareManage/UpdateHardwareOne`,{method:"POST",body:JSON.stringify(m),headers:{"Content-Type":"application/json"}})}else return s==="true"&&alert("請勿重複更新"),Promise.resolve(null)}).then(s=>s?s.ok?s.text():s.text().then(m=>{throw new Error(m)}):(c.value=!1,null)).then(s=>{console.log(s),c.value=!1}).catch(s=>{alert(s.message),c.value=!1})}function i(t){l.value=t,c.value=!0,fetch(`${p}/api/HardwareManage/UpdateHardwareAll`,{method:"POST",headers:{"Content-Type":"application/json"}}).then(a=>a.ok?a.text():a.text().then(s=>{throw new Error(s)})).then(a=>{console.log(a),c.value=!1}).catch(a=>{alert(a),c.value=!1})}return(t,a)=>{const s=n("router-view");return b(),T("div",null,[e(ce),u("div",Ce,[e(ee),u("div",be,[e(d(F),{class:"px-0"},{default:o(()=>[e(G,{name:"p_slide"},{default:o(()=>[c.value?(b(),k(fe,{key:0,class:"p_element","update-type":l.value},null,8,["update-type"])):j("",!0)]),_:1}),e(s,{onUpdateOneHardware:g,onUpdateAllHardware:i})]),_:1})]),e(Q)])])}}},xe=H(ge,[["__scopeId","data-v-dd28307d"]]);export{xe as default};
