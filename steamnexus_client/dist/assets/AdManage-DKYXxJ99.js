import{D as m,$ as p}from"./dataTables.responsive-CPZ25JVB.js";import{m as w,y as f,x as b}from"./index-XlqSScU4.js";const v=b('<div class="row"><div class="col-12 col-md-6 order-md-1 d-flex justify-content-center justify-content-md-start"><h2 id="SystemName" style="margin-top:8px;">廣告管理系統</h2></div><div class="col-12 col-md-6 order-md-2 d-flex justify-content-center justify-content-md-end" id="SystemMenu"></div></div><section class="section"><table id="AdvertiseManageTable" class="display" style="width:100%;"><thead><tr><th>ID</th><th>標題</th><th>Url</th><th>圖片</th><th>說明</th><th>狀態</th></tr></thead></table></section>',2),A={__name:"AdManage",setup(y){var d=null;const o="https://localhost:7135";function c(){fetch(`${o}/api/Advertisement/AdvertiseData`,{method:"GET"}).then(t=>{if(!t.ok)throw new Error("Network response was not ok");return t.json()}).then(t=>{d.clear().draw(),d.rows.add(t).draw()}).catch(t=>{console.error("Fetch error:",t)})}return w(()=>{d=new m("#AdvertiseManageTable",{columns:[{data:"advertisementId",width:"5%"},{data:"title",width:"10%"},{data:"url",width:"15%"},{data:"imagePath",width:"15%",className:"text-center",render:function(t){return`<img src="${t}" alt="Image" style="width:80%" />`},responsivePriority:1},{data:"discription",width:"10%"},{data:"isShow",width:"15%",className:"text-center",render:function(t,l,a){let e=a.advertisementId;const i=t?"checked":"",r=t?"":"checked";let n=`<input type="radio" class="radio-isShow" name = "${e}" value = "true" data-AdId="${e}" id = "${e}Show" ${i}><label for= "${e}Show" style="margin-right: 10px">上架</label>`,s=`<input type="radio" class="radio-isShow" name="${e}" value="false" data-AdId="${e}" id="${e}UnShow" ${r}><label for="${e}UnShow">下架</label>`;return`${n}${s}`}},{data:null,orderable:!1,width:"5%",className:"text-center",render:function(t,l,a){let e=a.title,i=a.advertisementId,r=a.url,n=a.discription,s=a.imagePath,h='<button data-AdId="'+i+'"  data-title="'+e+'"  data-url="'+r+'"  data-disc="'+n+'"  data-image="'+s+'" id="edit_button"><i class="bi bi-pencil-square"></i></button>',u='<button data-AdId="'+i+'"  data-title="'+e+'"  data-url="'+r+'"  data-disc="'+n+'"  data-image="'+s+'" id="delete_button"><i class="bi bi-trash3"></i></button>';return l==="display"?`${h}${u}`:t},responsivePriority:1}],fixedHeader:{header:!0},responsive:!0,language:{url:"//cdn.datatables.net/plug-ins/2.0.3/i18n/zh-HANT.json"},order:[[0,"asc"]],autoWidth:!0,layout:{topMiddile:{buttons:[{text:"新增廣告",action:function(){p("#addAdvertisementModal").modal("show")}}]}}}),c()}),f(()=>{d.clear().draw(),d.destroy(),d=null}),(t,l)=>v}};export{A as default};
